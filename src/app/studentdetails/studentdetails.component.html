<div class="container my-4">

  <h2 class="text-center mb-4 text-primary">ðŸŽ“ Student Management</h2>

  <!-- Filter Section -->
  <div class="d-flex flex-wrap align-items-center justify-content-between mb-4">
    <div class="mb-2">
      <input type="text"
             placeholder="Search by name or city..."
             class="form-control"
             style="width: 250px;"
             [(ngModel)]="term"
             (input)="filterStudents()">
    </div>

    <div class="mb-2">
      <label class="me-2 fw-bold">Sort By:</label>
      <select class="form-select d-inline-block w-auto me-2" [(ngModel)]="column">
        <option value="name">Name</option>
        <option value="school_name">School</option>
        <option value="phone">Phone</option>
      </select>

      <select class="form-select d-inline-block w-auto me-2" [(ngModel)]="order">
        <option value="asc">Ascending</option>
        <option value="desc">Descending</option>
      </select>

      <button class="btn btn-primary btn-sm" (click)="sortStudents()">Sort</button>
    </div>

    <div class="mb-2">
      <label class="me-2 fw-bold">Page:</label>
      <select class="form-select d-inline-block w-auto me-2" [(ngModel)]="page">
        <option *ngFor="let p of [1,2,3,4,5]" [value]="p">{{p}}</option>
      </select>

      <label class="me-2 fw-bold">Limit:</label>
      <select class="form-select d-inline-block w-auto me-2" [(ngModel)]="limit">
        <option *ngFor="let l of [5,10,20]" [value]="l">{{l}}</option>
      </select>

      <button class="btn btn-success btn-sm" (click)="paginateStudents()">Load</button>
    </div>
  </div>

  <hr>

  <!-- Card Grid -->
  <div class="row">
    <div class="col-md-4 col-lg-3 mb-4" *ngFor="let student of students">
      <div class="card h-100 shadow-sm border-0 rounded-3 overflow-hidden">
        <img [src]="student.profile_picture" class="card-img-top" alt="Profile Picture">

        <div class="card-body">
          <div class="d-flex align-items-center mb-2">
            <img [src]="student.school_logo" class="logo me-2" alt="School Logo" width="40" height="40">
            <h5 class="card-title mb-0 text-primary">{{ student.school_name }}</h5>
          </div>

          <p class="mb-1"><b>Name:</b> {{ student.name }}</p>
          <p class="mb-1"><b>City:</b> {{ student.city }}</p>
          <p class="mb-1"><b>DOB:</b> {{ student.dob }}</p>
          <p class="mb-1"><b>Phone:</b> {{ student.phone }}</p>
          <p class="mb-1"><b>Email:</b> {{ student.email }}</p>
        </div>

        <div class="card-footer bg-white border-0 text-center">
          <p class="mb-1"><b>School City:</b> {{ student.school_city }}</p>
          <p class="mb-2"><b>Pin:</b> {{ student.school_pin }}</p>

          <div class="btn-group w-100">
            <button class="btn btn-outline-primary btn-sm">View</button>
            <button class="btn btn-outline-warning btn-sm">Edit</button>
            <button class="btn btn-outline-danger btn-sm" (click)="deleteStudent(student.id)">Delete</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
